<div class="Loader"  *ngIf="!score" style="min-height: 100vh;margin-top: 20vh;">
  <div class="d-flex justify-content-center">
      <div class="spinner-border text-white" role="status" style="width: 5vw;height: 5vw;">
          <span class="sr-only"></span>
      </div>
  </div>
</div>

<div  *ngIf="score" style="min-height: min-content; margin-top: 15vh;">
  <div class="col-lg-12">
    <div class="card m-3 border-none">
      <div class="widget-title" style="background-color: rgb(199,0,0);color: white;font-weight: 900;">
        <h2>{{scorecarddata.matchInfo.title}}</h2>
        <p class="mb-0 fs-6">{{scorecarddata.matchInfo.series}}</p>
        <p class="mb-2 fs-6">{{scorecarddata.matchInfo.venue}} | {{scorecarddata.matchInfo.dateTime}}</p>
      </div>
      
      <div class="card-body">
        <!-- Team 1 -->
        <div class="card-title d-flex align-items-center justify-content-between border-bottom pb-3">
          <div class="d-flex align-items-center">
            <img [src]="scorecarddata.matchInfo.teams.team1.flag" class="team-flag me-3" style="width: 60px; height: 60px; object-fit: contain;"/>
            <div>
              <h5 class="mb-0">{{scorecarddata.matchInfo.teams.team1.name}}</h5>
            </div>
          </div>
         
        </div>

        <!-- Team 2 -->
        <div class="card-title d-flex align-items-center justify-content-between pt-3">
          <div class="d-flex align-items-center">
            <img [src]="scorecarddata.matchInfo.teams.team2.flag" class="team-flag me-3" style="width: 60px; height: 60px; object-fit: contain;"/>
            <div>
              <h5 class="mb-0">{{scorecarddata.matchInfo.teams.team2.name}}</h5>
            </div>
          </div>
       
        </div>

        <!-- Match Status -->

        <div class="current-batsmen">
          <div *ngFor="let batsman of scorecarddata.batting.currentBatsmen" >
            <span>{{batsman.name}} {{batsman.runs}}({{batsman.balls}}) {{batsman.fours}} {{batsman.sixes}} {{batsman.strikeRate}}</span>
          </div>
        </div>
        <br/>
        <div class="current-bowlers">
          <div *ngFor="let bowler of scorecarddata.bowling.currentBowlers" >
            <span>{{bowler.name}} {{bowler.overs}}-{{bowler.maidens}}-{{bowler.runs}}-{{bowler.wickets}} {{bowler.economyRate}}</span>
          </div>
        </div>
        
        <div class="mt-4">
          <h6 class="text-muted">{{scorecarddata.status}}</h6>
          <div class="recent-balls mt-2">
            <small class="text-muted">Recent: {{scorecarddata.recentBalls}}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="p-5"  *ngIf="score">
  <ul class="nav nav-pills mb-3"  style="background-color: rgb(199,0,0);padding: 10px;" id="pills-tab" role="tablist">
    <li class="nav-item flex-fill" role="presentation">
      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Players</button>
    </li>
    <li class="nav-item flex-fill" role="presentation">
      <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Scorecard</button>
    </li>
    <li class="nav-item flex-fill" role="presentation">
      <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Commentary</button>
    </li>
    <li class="nav-item flex-fill" role="presentation">
      <button class="nav-link" id="pills-contac-tab" data-bs-toggle="pill" data-bs-target="#pill-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Info</button>
    </li>
   
  </ul>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
      <div class="row">
        <div class="col-6">
          <table class="w-100">
            <th>{{squadsdata.team1.name}} <img src={{squadsdata.team1.flag}} style="width: 40px;height: 40px;"/></th>
            <tr *ngFor="let player of squadsdata.team1.players">
              <td><img src={{player.image}} style="width: 40px;height: 40px;"/></td>
              <td>{{player.name}}</td>
              <td>{{player.role}}</td>
            </tr>
          </table>
        </div>
        <div class="col-6">
          <table class="w-100">
            <th>{{squadsdata.team2.name}} <img src={{squadsdata.team2.flag}} style="width: 40px;height: 40px;"/></th>
            <tr *ngFor="let player of squadsdata.team2.players">
              <td><img src={{player.image}} style="width: 40px;height: 40px;"/></td>
              <td>{{player.name}}</td>
              <td>{{player.role}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
      <ng-container *ngFor="let innings of scoresheetdata.innings">
        <h3>{{innings.header}}</h3>
        
        <!-- Batting Table -->
        <table class="w-100">
          <tr>
            <th>Batsman</th>
            <th>Dismissal</th>
            <th>R</th>
            <th>B</th>
            <th>4s</th>
            <th>6s</th>
            <th>SR</th>
          </tr>
          <tr *ngFor="let batsman of innings.batting">
            <td>{{batsman.name}}</td>
            <td>{{batsman.dismissal.replace(' ► ►', '')}}</td>
            <td>{{batsman.runs}}</td>
            <td>{{batsman.balls}}</td>
            <td>{{batsman.fours}}</td>
            <td>{{batsman.sixes}}</td>
            <td>{{batsman.strikeRate}}</td>
          </tr>
        </table>

        <!-- Extras and Total -->
        <div class="mt-2 text-white">
          <p>Extras: {{innings.extras.total}} {{innings.extras.details}}</p>
          <p>Total: {{innings.total.runs}} {{innings.total.details}}</p>
          <p>Fall of Wickets: {{innings.fallOfWickets.join(', ')}}</p>
        </div>

        <!-- Bowling Table -->
        <table class="w-100 mt-3">
          <tr>
            <th>Bowler</th>
            <th>O</th>
            <th>M</th>
            <th>R</th>
            <th>W</th>
            <th>ECO</th>
          </tr>
          <tr *ngFor="let bowler of innings.bowling">
            <td>{{bowler.name}}</td>
            <td>{{bowler.overs}}</td>
            <td>{{bowler.maidens}}</td>
            <td>{{bowler.runs}}</td>
            <td>{{bowler.wickets}}</td>
            <td>{{bowler.economy}}</td>
          </tr>
        </table>
        
        <hr class="mt-4 mb-4">
      </ng-container>
    </div>
    <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab" tabindex="0">

      <div *ngFor="let data of commdata" class="card" style="border-radius: 20px;" >
        <div class="card-body">
        <div>
            <h6 ><span *ngIf="data.over !== ''" style="background-color: rgb(207, 0, 0); color: white; border-radius: 50%; padding: 5px; display: inline-block; width: 50px; height: 50px; text-align: center;">
              {{data.over}}
            </span></h6>
            <h6 class="card-title">{{data.text}}</h6>
        </div>
        </div>
      </div>

    </div>
   
  </div>

  <div class="tab-pane fade" id="pill-contact" role="tabpanel" aria-labelledby="pills-contac-tab" tabindex="0">

    <div class="card" style="border-radius: 20px;">
      <div class="card-body">
          <div class="">
            
          <p>Match: {{scoresheetdata.matchInfo.details.Match}}</p>
          <p>Venue: {{scoresheetdata.matchInfo.details.Venue}}</p>
          <p>Toss: {{scoresheetdata.matchInfo.details.Toss}}</p>
          <p>Umpires: {{scoresheetdata.matchInfo.details.Umpires}}</p>
          <p>Match Referee: {{scoresheetdata.matchInfo.details['Match Referee']}}</p>
          <p>Third Umpire: {{scoresheetdata.matchInfo.details['Third Umpire']}}</p>
      </div>
  </div>
  

  </div>
 

  
</div>

